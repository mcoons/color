let animate=!1,objects=[],canvas=document.getElementById("rgbCube");canvas.width=800,canvas.height=800,canvas.style.width=800,canvas.style.height=800;let engine=new BABYLON.Engine(canvas,!0,{preserveDrawingBuffer:!0,stencil:!0}),scene=new BABYLON.Scene(engine);scene.clearColor=new BABYLON.Color4(0,0,0,0);let light0=new BABYLON.HemisphericLight("hemi",new BABYLON.Vector3(1,1,0),scene);light0.intensity=.25;let light1=new BABYLON.PointLight("light1",new BABYLON.Vector3(-50,-80,-50),scene),light2=new BABYLON.PointLight("light2",new BABYLON.Vector3(50,80,50),scene),camera=new BABYLON.ArcRotateCamera("Camera",-7*Math.PI/4,2.5*Math.PI/8,24,new BABYLON.Vector3(0,0,0),scene);scene.activeCamera.attachControl(canvas);let glowLayer=new BABYLON.GlowLayer("glowLayer",scene);function addObjects(){function createGround(){var ground=BABYLON.Mesh.CreateGroundFromHeightMap("my ground mesh","textures/image.jpg",20,20,100,0,1,scene,!1);ground.position.y=-6.5;var groundMaterial=new BABYLON.StandardMaterial("my ground material",scene);groundMaterial.diffuseTexture=new BABYLON.Texture("textures/image.jpg",scene),groundMaterial.diffuseTexture.uScale=1,groundMaterial.diffuseTexture.vScale=1,groundMaterial.specularColor=new BABYLON.Color3(0,0,0),ground.material=groundMaterial}for(let xr=0;xr<=1;xr+=.15)for(let yg=0;yg<=1;yg+=.15)for(let zb=0;zb<=1;zb+=.15){let mat=new BABYLON.StandardMaterial("object material("+xr+","+yg+","+zb+")",scene);mat.diffuseColor=new BABYLON.Color3(xr,yg,zb),mat.specularColor=new BABYLON.Color3(0,0,0),mat.alpha=1,mat.emissiveColor=new BABYLON.Color3(xr/5,yg/5,zb/5);let mesh=BABYLON.MeshBuilder.CreateSphere("sphere("+xr+","+yg+","+zb+")",{size:.65},scene);mesh.position=new BABYLON.Vector3(10*(xr-.5),10*(yg-.5),10*(zb-.5)),mesh.material=mat,objects.push(mesh)}}function updateScene(){animate&&objects.forEach(obj=>{obj.rotation.y+=.01})}function createGUI(){let advancedTexture=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI"),panelOptionsContainer=new BABYLON.GUI.Rectangle;panelOptionsContainer.name="Options Menu",panelOptionsContainer.cornerRadius=5,panelOptionsContainer.thickness=1,panelOptionsContainer.color="black",panelOptionsContainer.background="lightgray",panelOptionsContainer.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,panelOptionsContainer.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,panelOptionsContainer.height="5px",panelOptionsContainer.width="80px",panelOptionsContainer.isPointerBlock=!0,panelOptionsContainer.onPointerEnterObservable.add(()=>{panelOptionsContainer.height="150px"}),panelOptionsContainer.onPointerOutObservable.add(()=>{panelOptionsContainer.height="5px"}),advancedTexture.addControl(panelOptionsContainer);let panelOptions=new BABYLON.GUI.StackPanel;formatMenuPanel(panelOptions),panelOptions.isPointerBlock=!0,panelOptionsContainer.addControl(panelOptions);let buttonDownload=BABYLON.GUI.Button.CreateSimpleButton("download button","Save/DL");formatButton(buttonDownload),buttonDownload.onPointerUpObservable.add(()=>{BABYLON.Tools.CreateScreenshotUsingRenderTarget(engine,scene.cameras[0],{width:3e3,height:3e3})}),panelOptions.addControl(buttonDownload);let glowHeader=new BABYLON.GUI.TextBlock;glowHeader.text="Glow: .2",glowHeader.height="18px",glowHeader.color="black",glowHeader.fontSize=10,glowHeader.paddingTop=10,panelOptions.addControl(glowHeader);let glowSlider=new BABYLON.GUI.Slider;glowSlider.minimum=0,glowSlider.maximum=2,glowSlider.value=.2,glowSlider.step=.01,glowSlider.thumbWidth="15px",glowSlider.thumbHeight="15px",glowSlider.isThumbCircle=!0,glowSlider.height="12px",glowSlider.width="60px",glowSlider.onValueChangedObservable.add(value=>{glowLayer.intensity=value,glowHeader.text="Glow: "+value}),panelOptions.addControl(glowSlider);let alphaHeader=new BABYLON.GUI.TextBlock;alphaHeader.text="Alpha: 1",alphaHeader.height="18px",alphaHeader.color="black",alphaHeader.fontSize=10,alphaHeader.paddingTop=10,panelOptions.addControl(alphaHeader);let alphaSlider=new BABYLON.GUI.Slider;function formatButton(button){button.width="60px",button.height="22px",button.color="black",button.fontSize=10,button.paddingTop=5,button.cornerRadius=5,button.background="white",button.background="#eeeeee",button.shadowBlur=3,button.shadowOffsetX=2.5,button.shadowOffsetY=3,button.shadowColor="#555"}function formatMenuPanel(panel){panel.width="80px",panel.height="150px",panel.cornerRadius=5,panel.thickness=1,panel.color="black",panel.background="lightgray",panel.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,panel.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP}alphaSlider.minimum=0,alphaSlider.maximum=1,alphaSlider.value=1,alphaSlider.step=.01,alphaSlider.thumbWidth="15px",alphaSlider.thumbHeight="15px",alphaSlider.isThumbCircle=!0,alphaSlider.height="12px",alphaSlider.width="60px",alphaSlider.onValueChangedObservable.add(value=>{scene.materials.forEach(mat=>mat.alpha=value),alphaHeader.text="Alpha: "+value}),panelOptions.addControl(alphaSlider)}glowLayer.intensity=.2,addObjects(),engine.runRenderLoop((function(){updateScene(),scene.render()})),createGUI();